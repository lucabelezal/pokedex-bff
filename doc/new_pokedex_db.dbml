Project pokemon_database {
  database_type: 'PostgreSQL'
  Note: 'Esquema de banco de dados para informações de Pokémon.'
}

Table region {
  id integer [pk, increment]
  name varchar(255) [not null, unique]
  Note: 'Tabela para armazenar informações sobre regiões do mundo Pokémon.'
}

Table generation {
  id integer [pk, increment]
  name varchar(50) [not null, unique]
  region_id integer [not null]
  Note: 'Tabela para armazenar informações sobre gerações de Pokémon.'
}

Table type {
  id integer [pk, increment]
  name varchar(255) [not null, unique]
  color varchar(50) [not null]
  Note: 'Tabela para armazenar os tipos de Pokémon (e.g., Fire, Water, Grass).'
}

Table stats {
  id integer [pk, increment]
  total integer
  hp integer
  attack integer
  defense integer
  sp_atk integer
  sp_def integer
  speed integer
  Note: 'Tabela para armazenar os atributos de estatísticas de um Pokémon.'
}

Table species {
  id integer [pk, increment]
  name_en varchar(255) [not null, unique]
  name_pt varchar(255) [not null, unique]
  description_en text
  description_pt text
  Note: 'Nova tabela para armazenar informações sobre as espécies de Pokémon, incluindo nomes e descrições em diferentes idiomas.'
}

Table pokemon {
  id integer [pk, increment]
  national_pokedex_number varchar(10) [not null, unique]
  name varchar(255) [not null]
  stats_id integer [unique]
  generation_id integer [not null]
  species_id integer -- Chave estrangeira para a tabela 'species'
  height_m decimal(5, 2)
  weight_kg decimal(6, 2)
  description text
  sprites jsonb
  gender_rate_value integer
  egg_cycles integer
  Note: 'Tabela principal para armazenar informações sobre cada Pokémon individual.'
}

Table pokemon_type {
  pokemon_id integer
  type_id integer
  PRIMARY KEY (pokemon_id, type_id)
  Note: 'Tabela de ligação para associar Pokémon a seus tipos (um Pokémon pode ter um ou dois tipos).'
}

Table evolution {
  id integer [pk, increment]
  pre_evolution_pokemon_id integer [not null]
  post_evolution_pokemon_id integer [not null]
  condition_description varchar(255) [not null]
  condition_level integer
  UNIQUE (pre_evolution_pokemon_id, post_evolution_pokemon_id)
  Note: 'Tabela para armazenar as cadeias de evolução dos Pokémon.'
}

Table ability {
  id integer [pk, increment]
  name varchar(255) [not null, unique]
  description text
  introduced_generation_id integer
  Note: 'Tabela para armazenar as habilidades dos Pokémon.'
}

Table pokemon_ability {
  pokemon_id integer
  ability_id integer
  is_hidden boolean [default: false]
  PRIMARY KEY (pokemon_id, ability_id)
  Note: 'Tabela de ligação para associar Pokémon a suas habilidades (um Pokémon pode ter múltiplas habilidades).'
}

Table egg_group {
  id integer [pk, increment]
  name varchar(50) [not null, unique]
  Note: 'Tabela para armazenar os grupos de ovos dos Pokémon.'
}

Table pokemon_egg_group {
  pokemon_id integer
  egg_group_id integer
  PRIMARY KEY (pokemon_id, egg_group_id)
  Note: 'Tabela de ligação para associar Pokémon a seus grupos de ovos (um Pokémon pode pertencer a múltiplos grupos de ovos).'
}

Table type_matchup {
  attacking_type_id integer [not null]
  defending_type_id integer [not null]
  damage_factor decimal(3,2) [not null]
  PRIMARY KEY (attacking_type_id, defending_type_id)
  Note: 'Tabela para armazenar as relações de dano entre tipos de Pokémon (tabela de efetividade de tipos).'
}

// Relações entre as tabelas
Ref: generation.region_id > region.id [delete: restrict]
Ref: pokemon.stats_id - stats.id [delete: cascade]
Ref: pokemon.generation_id > generation.id [delete: restrict]
Ref: pokemon.species_id > species.id [delete: restrict] // Nova relação para a tabela 'species'
Ref: pokemon_type.pokemon_id > pokemon.id [delete: cascade]
Ref: pokemon_type.type_id > type.id [delete: cascade]
Ref: evolution.pre_evolution_pokemon_id > pokemon.id [delete: cascade]
Ref: evolution.post_evolution_pokemon_id > pokemon.id [delete: cascade]
Ref: ability.introduced_generation_id > generation.id [delete: restrict]
Ref: pokemon_ability.pokemon_id > pokemon.id [delete: cascade]
Ref: pokemon_ability.ability_id > ability.id [delete: cascade]
Ref: pokemon_egg_group.pokemon_id > pokemon.id [delete: cascade]
Ref: pokemon_egg_group.egg_group_id > egg_group.id [delete: cascade]
Ref: type_matchup.attacking_type_id > type.id [delete: cascade]
Ref: type_matchup.defending_type_id > type.id [delete: cascade]